(this.webpackJsonpapiconnection=this.webpackJsonpapiconnection||[]).push([[0],[,,,,,,,function(e,t,n){e.exports={content:"BusContent_content__3JHnj",c1:"BusContent_c1__3UTmU",Select:"BusContent_Select__2OYzI"}},function(e,t,n){e.exports={NavB:"NavBar_NavB__2LOmq",List:"NavBar_List__3SHpe"}},,,,function(e,t,n){e.exports={card:"Card_card__2nKG4"}},function(e,t,n){e.exports={bus:"BusItem_bus__20ujH"}},,,,,function(e,t,n){},function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(10),r=n.n(a),o=(n(18),n(19),n(6)),u=n.n(o),i=n(9),j=n(11),b=n(2),l=n(7),A=n.n(l),h=n(12),d=n.n(h),O=n(0),x=function(e){return Object(O.jsx)("div",{className:d.a.card,children:e.children})},f=n(13),g=n.n(f),m=function(e){var t=Math.floor(e.remaining/1e3),n=Math.floor(t/60),c=Object(O.jsxs)("div",{children:["\u5269\u4e0b:",n,"\u5206\u9418"]});0===n?c=Object(O.jsx)("div",{children:"\u5373\u5c07\u5230\u9054"}):n<0&&(c=Object(O.jsx)("div",{children:"NA"}));var s=e.minutes;return e.minutes<10&&(s="0".concat(e.minutes)),Object(O.jsxs)("li",{className:g.a.bus,children:[Object(O.jsx)("h3",{children:e.busroute}),Object(O.jsxs)("div",{children:[e.hours," : ",s]}),Object(O.jsx)("div",{children:c})]})},p=function(e){var t=Object(c.useState)([]),n=Object(b.a)(t,2),s=n[0],a=n[1],r=Object(c.useState)(),o=Object(b.a)(r,2),l=o[0],h=o[1],d=Object(c.useState)([]),f=Object(b.a)(d,2),g=f[0],p=f[1],v=Object(c.useState)(!1),B=Object(b.a)(v,2),C=B[0],E=B[1],S=Object(c.useState)(null),k=Object(b.a)(S,2),D=k[0],N=k[1],Q=Object(c.useState)(""),U=Object(b.a)(Q,2),M=U[0],R=U[1];function T(){return I.apply(this,arguments)}function I(){return(I=Object(j.a)(u.a.mark((function t(){var n,c,s,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Date,R(n),p([]),t.prev=3,t.next=6,fetch(e.url);case 6:return c=t.sent,t.next=9,c.json();case 9:if(s=t.sent,c.ok){t.next=12;break}throw new Error("No");case 12:r=s.data.map((function(e){return{key:Math.random(),BusEta:new Date(e.eta),busRoute:e.route}})),console.log(s),E(!0),console.log(r),a(r),p((function(e){return[].concat(Object(i.a)(e),[r[0].busRoute])})),console.log(l),h(void 0===l?r[0].busRoute:l),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(3),N(t.t0.message);case 25:case"end":return t.stop()}}),t,null,[[3,22]])})))).apply(this,arguments)}var w=g.map((function(e){return Object(O.jsx)("option",{value:e,children:e})}));Object(c.useEffect)((function(){T()}),[]),Object(c.useEffect)((function(){!function(){for(var e=function(e){s[e].busRoute!==s[e-1].busRoute&&p((function(t){return[].concat(Object(i.a)(t),[s[e].busRoute])}))},t=1;t<s.length;t++)e(t)}()}),[s]);var Y=Object(O.jsx)("p",{children:"no Found"});return C&&s.length>0&&(console.log(s),Y=s.filter((function(e){return e.busRoute===l})).map((function(e){return Object(O.jsx)(m,{busroute:e.busRoute,hours:e.BusEta.getHours(),minutes:e.BusEta.getMinutes(),remaining:e.BusEta.getTime()-M.getTime()})}))),D&&(Y=Object(O.jsx)("p",{children:D})),Object(O.jsxs)("div",{className:A.a.content,children:[Object(O.jsx)("h1",{children:"\u5929\u8000\u5df4\u58eb\u7ad9\u8def\u7dda"}),Object(O.jsx)("button",{onClick:T,children:"\u66f4\u65b0"}),Object(O.jsx)("h1",{children:"\u8acb\u9078\u53d6\u4f60\u8981\u67e5\u8a62\u7684\u8def\u7dda"}),Object(O.jsx)("select",{className:A.a.Select,onChange:function(e){h(e.target.value),console.log(l)},value:l,children:w}),Object(O.jsx)(x,{children:Object(O.jsx)("ul",{children:Y})})]})},v=n(8),B=n.n(v),C=function(){return Object(O.jsxs)("nav",{className:B.a.NavB,children:[Object(O.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAeCAYAAAC7Q5mxAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAD2EAAA9hAag/p2kAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTnU1rJkAAACkklEQVRoQ+1ZwVHDMBBMCTSQiFfs8IESKIESKCElpARKSAmUQAl0ADOxhy8dGK0uIopyOesUM4kcdmYHiFfSaVlLsjMBvkx125pqxbEx1bMTRWjM3QOnB30b/OSua4hxUvvias2pAW02pnrcdnEUXdfRLxC3pu44NrP5G6n2gc85PbFa9WvS2Zj6JbWvzXT+6U0HTqphWn+3s/kaAdt2t4dsAyU9Bv0w9zfQDWUgCGO4zzlC6wq1GKQGOycu3dkGykVR+oAhDdTy99YfsIbYxCwDW7N44nSOQfqAcxqIOf1FDb5fIMtA+VbapQ8YpYHB8qA2kHY0XhenD7h4A6f1O66HxDxYbUC/PKgNlNLHLbKuIEYL+gmGoGMEr4/TDaT0r60BEINCXEKnMlDqNIx1iFINBJBOrg2RalEZqE0fULKBUjtLXQJz0geUaiDWcmktVK+BOekDSjCQ5o5xdxTna/tzg1skGShRSh9QgoHymBGjk8bJBnKTCjEqA+2mEh/T/hOYaCD6cANGSDMQ27mwoHJGeIzFQBD9ZCXQFTCbr7lrjvYa9XKIMRnoaIMUvipLNhCNuGuex96XlWAgasdPT3dkkx7ngo0k2UBo3K3MXCceTg4owUDXUYS+wPi7TmXg1T3KScuWJZKrMhCQos0dqIs20D6uxfqIS7WB+G6C04ChzqNsA4UXx5bwQm0gfXvH68B4M9EWjxSjDUsu4dsvm1hud8sUDQcpLCDaqw0E8Denc4yONJJW+u+fG30vE4jVKs9AYTOhQXEbEqWHclqkd9qLYq954OIpy0AgbYAR084fPmQb2Lc+XAH1r/RD9G0mo2awzmcbCGxm9SunHzPhhfp94DED+85JYyI2Q+4Y1XXd5Ac9C1Jx8i7MFQAAAABJRU5ErkJggg==",alt:"KMB Logo"}),Object(O.jsxs)("ul",{className:B.a.List,children:[Object(O.jsx)("li",{children:"\u4e3b\u9801"}),Object(O.jsx)("li",{children:"\u4e5d\u5df4\u7db2\u9801\u9023\u7d50"}),Object(O.jsx)("li",{children:"\u4e3b\u9801"})]})]})},E="https://data.etabus.gov.hk/v1/transport/kmb/stop-eta/".concat("7898B605E39613A8");var S=function(){return Object(O.jsxs)(s.a.Fragment,{children:[Object(O.jsx)(C,{}),Object(O.jsx)(p,{url:E}),Object(O.jsx)("footer",{children:"This is devloped by me"})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};r.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(S,{})}),document.getElementById("root")),k()}],[[22,1,2]]]);
//# sourceMappingURL=main.05dfc6be.chunk.js.map