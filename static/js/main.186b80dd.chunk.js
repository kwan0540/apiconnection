(this.webpackJsonpapiconnection=this.webpackJsonpapiconnection||[]).push([[0],[,,,,,,,function(e,t,n){e.exports={bus:"BusItem_bus__20ujH",hour:"BusItem_hour__3desg",remaining:"BusItem_remaining__3UTKM"}},,,,function(e,t,n){e.exports={content:"BusContent_content__3JHnj",c1:"BusContent_c1__3UTmU",Select:"BusContent_Select__2OYzI"}},function(e,t,n){e.exports={NavB:"NavBar_NavB__2LOmq",List:"NavBar_List__3SHpe"}},,,function(e,t,n){e.exports={card:"Card_card__2nKG4"}},,,,,function(e,t,n){},function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(4),o=n.n(s),r=(n(20),n(21),n(10)),u=n.n(r),i=n(13),j=n(14),l=n(3),b=n(11),d=n.n(b),h=n(15),O=n.n(h),A=n(1),f=function(e){return Object(A.jsx)("div",{className:O.a.card,children:e.children})},x=n(7),m=n.n(x),g=function(e){var t=Math.floor(e.remaining/1e3),n=Math.floor(t/60),c=Object(A.jsxs)("div",{children:["\u5269\u4e0b:",n,"\u5206\u9418"]});0===n?c=Object(A.jsx)("div",{children:"\u5373\u5c07\u5230\u9054"}):n<0&&(c=Object(A.jsx)("div",{children:"NA"}));var a=e.minutes;return e.minutes<10&&(a="0".concat(e.minutes)),Object(A.jsxs)("li",{className:m.a.bus,children:[Object(A.jsx)("h3",{children:e.busroute}),Object(A.jsxs)("div",{className:m.a.hour,children:["\u62b5\u9054\u6642\u9593: ",e.hours," : ",a]}),Object(A.jsx)("div",{className:m.a.remaining,children:c})]})},p=n(8),v={width:"400px",height:"400px"},B={lat:22.452259,lng:114.002123};function C(){var e=Object(c.useState)({}),t=Object(l.a)(e,2),n=t[0],s=t[1],o=Object(c.useState)(),r=Object(l.a)(o,2),u=r[0],i=r[1],j=Object(p.c)({id:"google-map-script",googleMapsApiKey:"AIzaSyBLrU_zN23HcZsijnL6KJOP5myQ89JSomU"}).isLoaded,b=a.a.useState(null),d=Object(l.a)(b,2),h=(d[0],d[1]),O=a.a.useCallback((function(e){var t=new window.google.maps.LatLngBounds;e.fitBounds(t),h(e)}),[]),f=a.a.useCallback((function(e){h(null)}),[]);return Object(c.useEffect)((function(){var e=setTimeout((function(){s({lat:22.452259,lng:114.002123})}),200);return function(){return clearTimeout(e)}}),[]),Object(c.useEffect)((function(){var e=setTimeout((function(){i(18)}),250);return function(){return clearTimeout(e)}}),[]),j?Object(A.jsxs)(p.a,{mapContainerStyle:v,center:n,zoom:u,onLoad:O,onUnmount:f,children:[Object(A.jsx)(p.b,{position:B}),Object(A.jsx)(A.Fragment,{})]}):Object(A.jsx)(A.Fragment,{})}var S=a.a.memo(C),E=function(e){var t=Object(c.useState)([]),n=Object(l.a)(t,2),a=n[0],s=n[1],o=Object(c.useState)(),r=Object(l.a)(o,2),b=r[0],h=r[1],O=Object(c.useState)([]),x=Object(l.a)(O,2),m=x[0],p=x[1],v=Object(c.useState)(!1),B=Object(l.a)(v,2),C=B[0],E=B[1],k=Object(c.useState)(null),N=Object(l.a)(k,2),U=N[0],D=N[1],T=Object(c.useState)(""),_=Object(l.a)(T,2),Q=_[0],L=_[1];function w(){return I.apply(this,arguments)}function I(){return(I=Object(j.a)(u.a.mark((function t(){var n,c,a,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Date,L(n),p([]),t.prev=3,t.next=6,fetch(e.url);case 6:return c=t.sent,t.next=9,c.json();case 9:if(a=t.sent,c.ok){t.next=12;break}throw new Error("No");case 12:o=a.data.map((function(e){return{key:Math.random(),BusEta:new Date(e.eta),busRoute:e.route}})),console.log(a),E(!0),console.log(o),s(o),p((function(e){return[].concat(Object(i.a)(e),[o[0].busRoute])})),console.log(b),h(void 0===b?o[0].busRoute:b),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(3),D(t.t0.message);case 25:case"end":return t.stop()}}),t,null,[[3,22]])})))).apply(this,arguments)}var M=m.map((function(e){return Object(A.jsx)("option",{value:e,children:e})}));Object(c.useEffect)((function(){w()}),[]),Object(c.useEffect)((function(){!function(){for(var e=function(e){a[e].busRoute!==a[e-1].busRoute&&p((function(t){return[].concat(Object(i.a)(t),[a[e].busRoute])}))},t=1;t<a.length;t++)e(t)}()}),[a]);var R=Object(A.jsx)("p",{children:"no Found"});return C&&a.length>0&&(console.log(a),R=a.filter((function(e){return e.busRoute===b})).map((function(e){return Object(A.jsx)(g,{busroute:e.busRoute,hours:e.BusEta.getHours(),minutes:e.BusEta.getMinutes(),remaining:e.BusEta.getTime()-Q.getTime()})}))),U&&(R=Object(A.jsx)("p",{children:U})),Object(A.jsxs)("div",{className:d.a.content,children:[Object(A.jsx)("h1",{children:"\u5929\u8000\u5df4\u58eb\u7ad9\u8def\u7dda"}),Object(A.jsx)(S,{}),Object(A.jsx)("button",{onClick:w,children:"\u66f4\u65b0"}),Object(A.jsx)("h1",{children:"\u8acb\u9078\u53d6\u4f60\u8981\u67e5\u8a62\u7684\u8def\u7dda"}),Object(A.jsx)("select",{className:d.a.Select,onChange:function(e){h(e.target.value),console.log(b)},value:b,children:M}),Object(A.jsx)(f,{children:Object(A.jsx)("ul",{children:R})})]})},k=n(12),N=n.n(k),U=function(){return Object(A.jsxs)("nav",{className:N.a.NavB,children:[Object(A.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAeCAYAAAC7Q5mxAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAD2EAAA9hAag/p2kAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTnU1rJkAAACkklEQVRoQ+1ZwVHDMBBMCTSQiFfs8IESKIESKCElpARKSAmUQAl0ADOxhy8dGK0uIopyOesUM4kcdmYHiFfSaVlLsjMBvkx125pqxbEx1bMTRWjM3QOnB30b/OSua4hxUvvias2pAW02pnrcdnEUXdfRLxC3pu44NrP5G6n2gc85PbFa9WvS2Zj6JbWvzXT+6U0HTqphWn+3s/kaAdt2t4dsAyU9Bv0w9zfQDWUgCGO4zzlC6wq1GKQGOycu3dkGykVR+oAhDdTy99YfsIbYxCwDW7N44nSOQfqAcxqIOf1FDb5fIMtA+VbapQ8YpYHB8qA2kHY0XhenD7h4A6f1O66HxDxYbUC/PKgNlNLHLbKuIEYL+gmGoGMEr4/TDaT0r60BEINCXEKnMlDqNIx1iFINBJBOrg2RalEZqE0fULKBUjtLXQJz0geUaiDWcmktVK+BOekDSjCQ5o5xdxTna/tzg1skGShRSh9QgoHymBGjk8bJBnKTCjEqA+2mEh/T/hOYaCD6cANGSDMQ27mwoHJGeIzFQBD9ZCXQFTCbr7lrjvYa9XKIMRnoaIMUvipLNhCNuGuex96XlWAgasdPT3dkkx7ngo0k2UBo3K3MXCceTg4owUDXUYS+wPi7TmXg1T3KScuWJZKrMhCQos0dqIs20D6uxfqIS7WB+G6C04ChzqNsA4UXx5bwQm0gfXvH68B4M9EWjxSjDUsu4dsvm1hud8sUDQcpLCDaqw0E8Denc4yONJJW+u+fG30vE4jVKs9AYTOhQXEbEqWHclqkd9qLYq954OIpy0AgbYAR084fPmQb2Lc+XAH1r/RD9G0mo2awzmcbCGxm9SunHzPhhfp94DED+85JYyI2Q+4Y1XXd5Ac9C1Jx8i7MFQAAAABJRU5ErkJggg==",alt:"KMB Logo"}),Object(A.jsxs)("ul",{className:N.a.List,children:[Object(A.jsx)("li",{children:"\u4e3b\u9801"}),Object(A.jsx)("li",{children:"\u4e5d\u5df4\u7db2\u9801\u9023\u7d50"}),Object(A.jsx)("li",{children:"\u4e3b\u9801"})]})]})},D="https://data.etabus.gov.hk/v1/transport/kmb/stop-eta/".concat("7898B605E39613A8");var T=function(){return Object(A.jsxs)(a.a.Fragment,{children:[Object(A.jsx)(U,{}),Object(A.jsx)(E,{url:D}),Object(A.jsx)("footer",{children:"This is devloped by me"})]})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),s(e),o(e)}))};o.a.render(Object(A.jsx)(a.a.StrictMode,{children:Object(A.jsx)(T,{})}),document.getElementById("root")),_()}],[[24,1,2]]]);
//# sourceMappingURL=main.186b80dd.chunk.js.map